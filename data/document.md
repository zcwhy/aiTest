# 文件管理PRD

## 项目背景

文件管理App是小米产品中十分重要的系统应用软件，它能让用户浏览设备存储的文件夹和文件，通过直观的界面方便地在不同存储位置（如内部存储、外部 SD 卡）间切换。同时，可以对文件分类，像文档、图片、视频等类别，还能按文件大小、修改日期等筛选。具有复制、粘贴、移动、删除、重命名和排序等文件操作功能。能够显示存储使用情况，帮助管理磁盘空间，有的还支持外部存储设备管理。有强大的搜索功能，可通过文件名、内容等查找文件。也支持文件共享、传输，以及文件的压缩和解压缩。适用于个人文件整理、工作学习文件管理和设备维护优化。

## 文件管理手机页的思维导图，主要包括一下几个部分

1.搜索

- 按类型查找
- 按来源查找
- 按关键字查找
- ai搜索

2.文件分类

- 文档
- 图片
- 视频
- 音乐
- 压缩包
- 安装包
- 传输与下载
- 收藏
- 截屏
- 相机
- 录音机

3.移动

4.删除

5.更多

- 复制
- 设为私密
- 收藏
- 重命名
- 压缩
- 详情

## 功能摘要说明

- 产品功能：文件展示；具体描述：展示内部存储页文件
- 产品功能：搜索；具体描述：通过文件名、类型、内容、来源查找文件
- 产品功能：文件分类；具体描述：将不同的文件依据类型分类
- 产品功能：移动；具体描述：移动文件到指定位置
- 产品功能：删除；具体描述：将文件从当前页移动至回收站
- 产品功能：复制；具体描述：创建文件的副本并放置指定路径下
- 产品功能：设为私密；具体描述：将文件移动至私密空间
- 产品功能：详情；具体描述：展示文件存储位置、大小、时间、是否可读可写、是否隐藏

## 功能清单说明

### 搜索

1.进入搜索

- 点击搜索图标
- 跳转搜索页面
- 弹出系统键盘

2.搜索类型

- 按类型查找
- 按来源查找
- 按关键字搜索

3.ai搜索

- 本地建库
- 根据名称匹配
- 根据内容匹配

### 文件分类

- 大类划分
- 细分类型
- 按时间划分

### 移动

- 选中文件
- 选择目录

### 删除

- 删除文件
- 删除文件夹
- 删除系统文件
- 删除OTG文件

### 更多

1.复制

- 选中文件
- 选中文件夹
- 选择目录

2.设为私密

- 选择文件/文件夹
- 选择目录

3.收藏

- 选择文件/文件夹
- 收藏

4.重命名

- 选择文件
- 选择文件夹
- 输入名称

5.压缩

- 选中文件
- 输入压缩名称

6.详情

- 选择文件/文件夹
- 点击更多
- 点击详情

## 总体流程图

### 搜索页流程图

1.进入搜索

- 点击搜索图标
- 跳转搜索页面
- 弹出系统键盘

2.搜索类型

- 按类型查找
- 按来源查找
- 按关键字搜索

3.ai搜索

- 本地建库
- 根据名称匹配
- 根据内容匹配

### 文件分类流程图

- 大类划分
- 细分类型
- 按时间划分

### 移动流程图

- 选中文件
- 选择目录

### 删除流程图

- 选择文件
- 点击删除
- 二次确认

### 更多流程图

1.复制

- 选中文件
- 选中文件夹
- 选择目录

2.设为私密

- 选择文件/文件夹
- 选择目录

3.收藏

- 选择文件/文件夹
- 收藏

4.重命名

- 选择文件
- 选择文件夹
- 输入名称

5.压缩

- 选中文件
- 输入压缩名称

6.详情

- 选择文件/文件夹
- 点击更多
- 点击详情

## 总体动作流程图

### 文件搜索页流程图

1.用户

- 用户进入文件管理手机页面
- 点击手机也搜索图标
- 选择搜索方式（输入关键字、文件类型、文件来源）
- 点击搜索
- 页面展示符合条件的文件/文件夹

2.服务器

- 记录用户的搜索条件（如输入的关键字）
- 检查用户输入内容，确保符合能够搜索到的范围
- 若当前机型支持ai搜索，则会在用户熄屏之时，建立本地搜索库

### 文件分类流程图

### 文件移动流程图

### 文件更多操作流程图

1.用户

- 用户选择某一文件/文件夹
- 进入编辑状态
- 点击更多-选择相应的功能

2.复制

- 系统根据用户选择的图片，生成相应的副本
- 放入用户用户选择的路径下

3.设为私密

- 系统将用户选择的文件/文件夹，移动至私密空间
- 文件在源路径消失
- 若是用户需要解密该文件/文件夹，则会将其还原到源路径

4.收藏

- 系统将用户选择的文件/文件夹，加上收藏图标
- 该文件将会分类至收藏页
- 用户再次点击操作该文件，更多将会有取消收藏的功能

5.重命名

- 系统将用户选择的文件/文件夹和用户输入的名称，重新命名文件/文件夹
- 系统会检测当前是否有与用户同名的文件

6.压缩

- 系统会将用用户选择的文件和文件夹，压缩至一个.zip文件内
- 用户可以输入压缩文件名，若不输入则会使用系统默认名称
- 压缩文件的路径为当前用户选择路径

7.详情

- 系统会向用户展示选择文件/文件夹的详细信息，包含文件路径、名称、大小、是否隐藏

8.流程总结

- 用户选择某一文件/文件夹进入编辑状态之后，可以对文件进行操作
- 系统可以实时监测用户的操作行为，并根据用户的选择对文件进行相应的改变
- 用户进行某一操作之后，系统会向用户展示操作的结果及后续操作

9.流程描述

- 【用户】选择某一文件/文件夹进入编辑状态之后，可以对文件进行操作
- 【用户】可对文件/文件夹进行复制、设为私密、重命名、压缩、查看详情等操作
- 【用户】进行某一操作之后，系统会向用户展示操作的结果及后续操作
- 【系统】系统可以实时监测用户的操作行为，并根据用户的选择对文件进行相应的改变

## 功能需求

### 文件更多操作功能需求

1. 功能需求描述：
   打开文件管理，进入手机页，长按某一文件/文件夹，进入编辑状态，即可对文件/文件夹进行操作。

2. 进入更多操作方式：
   用户长按某一文件/文件夹

   用户点击更多，系统弹出更多操作框

3. 哪些文件支持？：
   手机页，当前编辑状态下所有的文件和文件夹，用户可以操作某一文件/文件夹，也可以操作多个文件夹

4. 更多弹窗UI:

   更多按钮位于最下方的导航栏的最右侧

   点击更多：弹出更多操作弹窗，内容分别是复制、设为私密、收藏、重命名、压缩、详情。

5. 复制功能：
   点击复制之后，系统会生成当前选择文件/文件夹的副本

6. 设为私密功能：
   点击设为私密之后，系统会将用户选择的文件/问价移动至私密空间，同时当前页面选择文件/文件夹消失。

7. 收藏功能：
   点击收藏之后，选择的文件/文件夹会出现收藏图标，再次操作可取消收藏。

8. 重命名功能：
   点击重命名之后，会弹出输入文件名称的弹窗，且文件名会被选中，用户只需输入新文件名

   系统会检查当前页是否存在相同的名称，若存在，则会弹窗提示用户

9. 压缩功能：
   系统会将用用户选择的文件和文件夹，压缩至一个.zip文件内

10. 详情：
    系统会向用户展示选择文件/文件夹的详细信息，包含文件路径、名称、大小、是否隐藏

11. 更多操作完整操作流程

    用户进入手机也，选择某一文件/文件夹，进入编辑状态

    用户可操作的文件为当前页的所有文件和文件夹，且可以操作多个文件和文件夹，且可以文件和文件夹混合操作

    用户进行了某一操作，系统会根据用户的操作进行相应的改变

    用户可在操作的过程中取消某一操作



